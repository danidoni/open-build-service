.card.m-2.p-2{ class: 'd-none', id: "add-review-in-place-#{review.id}" }
  - case
  - when review.by_package
    %h5 Add a review for package #{review.by_project}/#{review.by_package}
  - when review.by_user
    %h5 Add a review for user #{review.by_user}
  - when review.by_group
    %h5 Add a review for group #{review.by_group}
  - when review.by_project
    %h5 Add a review for project #{review.by_project}
  = form_for(review, url: request_modify_review_path, method: :post) do
    = hidden_field_tag('review_id', review.id)
    - if review.creator
      .mt-4
        %p
          = helpers.user_with_realname_and_icon(User.find_by(login: review.creator))
          requested:
        .ml-4
          %p= sanitize(simple_format(review.reason || 'No reason given'), tags: %w[br p])
    .form-group
      = text_area_tag('comment', '', rows: 4, class: 'w-100 form-control', placeholder: 'Please comment on your decision')
    .form-group
      .custom-control.custom-radio
        = radio_button_tag('new_state', 'Decline', true, class: 'custom-control-input')
        = label_tag('Decline', 'Decline', for: "new_state_Decline", class: 'custom-control-label')
      .custom-control.custom-radio
        = radio_button_tag('new_state', 'Approve', false, class: 'custom-control-input')
        = label_tag('Approve', 'Approve', for: "new_state_Approve", class: 'custom-control-label')
    .form-group
      = submit_tag 'Submit review', title: 'Veto this request, it will be declined.', class: 'btn btn-primary'
